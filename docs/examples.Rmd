---
title: "examples"
output:
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
---
  
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
set.seed(2018-06-05)
```

The `trophic` package has several different uses. These are some examples of possible use cases. Please feel free to contribute your own additions (see [here](contribute.html) for details).

## example: predicting biomass of a high-order predator with known food web
```{r results="hide", warning=FALSE, error=FALSE, fig.width=10}  

# load trophic package
library(trophic)

# prepare food web, transfer efficiencies, and dominance matrix
example_fw <- build_food_web(interaction_matrix = food_web)
example_eps <- build_efficiency_matrix(efficiency_mean = efficiency_mean,
                                       efficiency_sd = 0.05)
example_doms <- build_dominance_matrix(dominance = dominance_matrix)

# build primary producers object
example_pp <- build_primary_producers(production_mean = production_mean,
                                      production_sd = production_sd)

# collate trophic_dynamics object
example_trophic <- build_trophic_dynamics(food_web = example_fw,
                                          efficiency_matrix = example_eps,
                                          dominance_matrix = example_doms)

# predict production of all nodes
predicted_production <- estimate_production(trophic_dynamics = example_trophic,
                                            primary_producers = example_pp,
                                            stochastic = c("efficiency",
                                                           "primary_production"))

# create a P:B ratio object to link production to biomass
example_pb <- build_pb_ratio(range = c(0.25, 5.75), type = "fixed")

# use P:B ratio to estimate biomass from production
predicted_biomass <- estimate_biomass(production_estimates = predicted_production,
                                      pb_ratio = example_pb)

# plot biomass for nodes of interest
plot(predicted_biomass, nodes = c(16:19))

```

## example: predicting biomass of a high-order predator with uncertain food web
```{r results="hide", warning=FALSE, error=FALSE, fig.width=10}  

# do something

```

## example: calculating sensitivity of predicted biomass to transfer efficiencies
```{r results="hide", warning=FALSE, error=FALSE, fig.width=10}  

# do something

```

## example: calculating sensitivity of predicted biomass to species' dominances
```{r results="hide", warning=FALSE, error=FALSE, fig.width=10}  

# do something

```
